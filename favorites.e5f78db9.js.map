{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-51a9fb885912b6b1.js","src/js/favorites.js","node_modules/@parcel/runtime-js/lib/runtime-a6d53cf0214ec728.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3Z9o3\\\":\\\"favorites.e5f78db9.js\\\",\\\"ee16w\\\":\\\"sprite.5a4a464f.svg\\\",\\\"7RrDr\\\":\\\"index.3b93c65a.js\\\"}\"));","import axios from 'axios';\nimport spriteUrl from '../images/sprite.svg';\nimport { openModal } from './modal-video';\n\n// ========================================    localStorageServsce    ===============================\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\n// ========================================    APIServsce      ======================================\n\nclass UnsplashAPI {\n  static BASE_URL = 'https://tasty-treats-backend.p.goit.global/api';\n\n  constructor() {\n    this.query = 0;\n  }\n  fetchPhotosByQuery() {\n    return axios.get(`${UnsplashAPI.BASE_URL}/recipes/${this.query}`);\n  }\n}\n\n// ========================================   querySelectorelementov ================================\n\nconst productsListEl = document.querySelector('.recipes-list');\nconst divEl = document.querySelector('.favorites-error');\nconst divButtonEl = document.querySelector('.js-div-button');\nconst allCategoriesEl = document.querySelector('.js-all-categories');\nconst btnsEl = document.querySelector('.js-cart');\nconst orderNowModal = document.querySelector('.order-now-div');\nconst closeOrderButton = document.querySelector('.js-cross-order');\nconst houmBtEl = document.querySelector('.site-nav-home');\nconst favorBtEl = document.querySelector('.site-nav-fav');\n\nhoumBtEl.style.color = 'var(--black)';\n\nfavorBtEl.style.color = 'var(--green)';\n\nconst unsplashAPI = new UnsplashAPI();\nunsplashAPI.query = 0;\nlet productsTocart = [];\n\nconst onIntersectingElIntersectingViewport = async entries => {\n  try {\n    const { data } = await unsplashAPI.fetchPhotosByQuery();\n\n    productsTocart.push(data);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n//  ============================================ appeal to localStorage ===============================\n\nconst appendCartItems = () => {\n  const productsidentificators = load('BI8886EB');\n\n  if (productsidentificators === undefined) {\n    divEl.classList.remove('visually-hidden');\n    allCategoriesEl.add('is-hiden');\n\n    return;\n  }\n  if (productsidentificators.length === 0) {\n    divEl.classList.remove('visually-hidden');\n\n    return;\n  }\n\n  for (const iterator of productsidentificators) {\n    unsplashAPI.query = iterator;\n\n    onIntersectingElIntersectingViewport();\n  }\n};\nappendCartItems();\n\n// =================================================  CreateGalleryCards =============================================\n\nfunction createGalleryCards(arr) {\n  const productsToCartTemplate = arr\n    .map(productinfo => {\n      let roundedNumber = parseFloat(productinfo.rating.toFixed(1));\n\n      const isActive = isRecipeLiked(productinfo._id);\n\n      return `\n          <li class=\"recipes-list-item\" style=\"background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 4.82%, rgba(5, 5, 5, 0.00) 108.72%), url(${\n            productinfo.thumb\n          }); background-size: cover;\n              background-position: center;\n              background-repeat: no-repeat\">\n              <div class=\"recipes-list-wraper\">\n              <button type=\"button\" class=\"recipes-list-item-like-btn\">\n               <svg class=\"recipes-list-item-like-btn-img\" width=\"22\" height=\"22\">\n                 <use class=\"${\n                   isActive ? 'active-heart' : 'not-active-heart'\n                 }\" href=\"${spriteUrl}#icon-heart\" data-resept-id=${\n        productinfo._id\n      }></use>\n               </svg>\n              </button>\n               <h3 class=\"subtitle\">${productinfo.title}</h3>\n               <p class=\"recipes-list-item-text\">${productinfo.description}</p>\n               <div class=\"rating-wraper\">\n                 <div class=\"recipes-rating\">\n               <div class=\"recipes-rating-body\">\n                <div class=\"recipes-rating-value\">${roundedNumber}</div>\n              <div class=\"recipes-rating-active\"></div>\n              <div class=\"recipes-rating-items\">${starsTemplate(\n                roundedNumber\n              )} </div>\n               </div>\n               </div>\n               <button class=\"recipes-list-see-recipe-btn\" type=\"button\" data-resept-id=${\n                 productinfo._id\n               } style='position: relative; z-index: 0'>See recipe</button>\n               </div>\n              \n              </div>\n             </div>\n              \n          </li>\n            \n `;\n    })\n    .join('');\n\n  productsListEl.innerHTML = productsToCartTemplate;\n}\n\n// ============================================  Сategory  ===========================================\n\nconst choiceСategory = productsTocart => {\n  const allCourses = productsTocart.flatMap(product => product.category);\n\n  const productCategory = allCourses.filter(\n    (course, index, array) => array.indexOf(course) === index\n  );\n\n  const productCategoryButton = productCategory\n    .map(category => {\n      return `\n   \n    <button class=\"favorites-btn\">${category}</button>\n\n    `;\n    })\n    .join('');\n\n  divButtonEl.innerHTML = productCategoryButton;\n};\n\n// ====================================  processing button clicks ====================================\n\nconst selectcategory = event => {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const arrCategory = productsTocart.filter(\n    user => user.category === event.target.innerText\n  );\n\n  productsListEl.innerHTML = '';\n\n  createGalleryCards(arrCategory);\n\n  allCategoriesEl.classList.remove('is-hiden');\n};\n\nconst allCategories = event => {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  createGalleryCards(productsTocart);\n\n  allCategoriesEl.classList.add('is-hiden');\n};\n\ndivButtonEl.addEventListener('click', selectcategory);\nallCategoriesEl.addEventListener('click', allCategories);\n\nconst timerIdcreateGalleryCards = setTimeout(\n  createGalleryCards,\n  600,\n  productsTocart\n);\nconst timerIdchoiceСategory = setTimeout(choiceСategory, 600, productsTocart);\n\n// ===================================================   Work With LocalStoreg  ==============================================\n\nconst buttonEl = document.querySelector('.recipes-list');\n\nconst deletLocalSnoregId = event => {\n  if (event.target.nodeName !== 'use') {\n    return;\n  }\n\n  const localStorageData = localStorage.getItem('BI8886EB');\n\n  const buttonIds = localStorageData ? JSON.parse(localStorageData) : [];\n\n  const buttonId = event.target.dataset.reseptId;\n\n  const buttonIndex = buttonIds.indexOf(buttonId);\n\n  if (buttonIndex === -1) {\n    event.target.classList.remove('not-active-heart');\n\n    event.target.classList.add('active-heart');\n\n    buttonIds.push(buttonId);\n  } else {\n    event.target.classList.remove('active-heart');\n\n    event.target.classList.add('not-active-heart');\n\n    buttonIds.splice(buttonIndex, 1);\n  }\n\n  save('BI8886EB', buttonIds);\n};\n\nbuttonEl.addEventListener('click', deletLocalSnoregId);\n\nfunction isRecipeLiked(recipeId) {\n  const storedData = localStorage.getItem('BI8886EB');\n\n  const existingData = storedData ? JSON.parse(storedData) : [];\n\n  return existingData.includes(recipeId);\n}\n\n// =====================================  Open Modal Video ==============================\n\nbuttonEl.addEventListener('click', function (event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const btnId = event.target.dataset.reseptId;\n\n  openModal(btnId);\n});\n\nfunction starsTemplate(rating) {\n  const stars = [];\n\n  for (let i = 1; i <= 5; i++) {\n    const star = `<div class=\"recipes-rating-item\" data-value=\"${i}\" style=\"${\n      i <= rating ? 'fill: var(--yellow)' : ''\n    }\"><svg class=\"recipes-list-item-starlist-star-svg\" width=\"13\" height=\"13\">\n\n          <use href=\"${spriteUrl}#icon-star\"></use>\n\n        </svg>\n\n    </div>`;\n\n    stars.push(star);\n  }\n\n  return stars.join('');\n}\n\nconst onOpenModal = event => {\n  orderNowModal.style.display = 'block';\n};\n\nbtnsEl.addEventListener('click', onOpenModal);\n\n// orderNowModal.addEventListener('click', () => {\n\n//   orderNowModal.style.display = 'none';\n\n// })\n\ncloseOrderButton.addEventListener('click', () => {\n  orderNowModal.style.display = 'none';\n});\n\n//* MODULE HEADER*//\nconst modalMenuBurger = document.querySelector('.backdrop-burger');\nconst openMenuBtn = document.querySelector('.js-open-menu-burger');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nfunction openModalBurger() {\n  modalMenuBurger.style.visibility = 'visible';\n  modalMenuBurger.style.left = '0';\n}\nfunction closeModalBurger() {\n  modalMenuBurger.style.left = '-100%';\n  setTimeout(() => {\n    modalMenuBurger.style.visibility = 'hidden';\n  }, 800);\n}\nopenMenuBtn.addEventListener('click', openModalBurger);\ncloseMenuBtn.addEventListener('click', closeModalBurger);\n","module.exports = require('./helpers/bundle-url').getBundleURL('3Z9o3') + require('./helpers/bundle-manifest').resolve(\"ee16w\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$efb73add0d662a75$exports","getBundleURL","resolve","$6befdf793f7dd1b0$var$UnsplashAPI","UnsplashAPI","this","query","key","$dIxxU","default","get","concat","BASE_URL","$parcel$interopDefault","$hKHmD","$6befdf793f7dd1b0$var$productsListEl","document","querySelector","$6befdf793f7dd1b0$var$divEl","$6befdf793f7dd1b0$var$divButtonEl","$6befdf793f7dd1b0$var$allCategoriesEl","$6befdf793f7dd1b0$var$btnsEl","$6befdf793f7dd1b0$var$orderNowModal","$6befdf793f7dd1b0$var$closeOrderButton","$6befdf793f7dd1b0$var$houmBtEl","$6befdf793f7dd1b0$var$favorBtEl","style","color","$6befdf793f7dd1b0$var$unsplashAPI","$6befdf793f7dd1b0$var$productsTocart","$6befdf793f7dd1b0$var$onIntersectingElIntersectingViewport","$2TvXO","mark","_callee","entries","data","fetchPhotosByQuery","_ctx","sent","push","console","log","t0","$6befdf793f7dd1b0$var$createGalleryCards","arr","productsToCartTemplate","map","productinfo","recipeId","storedData","roundedNumber","parseFloat","rating","toFixed","isActive","_id","localStorage","getItem","includes","thumb","title","description","stars","i","star","join","$6befdf793f7dd1b0$var$starsTemplate","innerHTML","productsidentificators","serializedState","undefined","error","message","$6befdf793f7dd1b0$var$load","classList","remove","add","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","$6befdf793f7dd1b0$var$appendCartItems","addEventListener","event","target","nodeName","arrCategory","filter","user","category","innerText","setTimeout","productsTocart1","productCategoryButton","flatMap","product","course","index","array","indexOf","$6befdf793f7dd1b0$var$buttonEl","localStorageData","buttonIds","buttonId","dataset","reseptId","buttonIndex","splice","stringify","setItem","$6befdf793f7dd1b0$var$save","btnId","$8c51Y","openModal","display","$6befdf793f7dd1b0$var$modalMenuBurger","$6befdf793f7dd1b0$var$openMenuBtn","$6befdf793f7dd1b0$var$closeMenuBtn","visibility","left"],"version":3,"file":"favorites.e5f78db9.js.map"}