{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,iEAeCC,EAaC,W,sBAbKC,I,aAIHC,KAAKC,MAAQ,C,iBAEfC,IAAA,qB,MAAA,WAEQ,OAAOC,EAAAC,QAAMC,IAAI,GAAmCC,OAAhCP,EAAYQ,SAAS,aAAsBD,OAAXN,KAAKC,O,OAKjE,GAZAO,EAAAC,EAAA,CADKX,EACE,WAAW,kDAcpB,IAAMY,EAAiBC,SAASC,cAAc,iBACxCC,EAAQF,SAASC,cAAc,oBAC/BE,EAAcH,SAASC,cAAc,kBACrCG,EAAkBJ,SAASC,cAAc,sBAEzCI,EAAc,IAAIlB,EACxBkB,EAAYf,MAAQ,EACpB,I,EAAIgB,EAAiB,GAEfC,G,EAAuCV,EAAAZ,EAAA,CAAAY,EAAAW,GAAAC,MAAA,SAAAC,EAAMC,G,IAIxCC,E,2FAAeP,EAAYQ,qB,OAA7BD,EAAME,EAAAC,KAAJH,KAERN,EAAeU,KAAKJ,G,gDAELK,QAAQC,IAAGJ,EAAAK,I,kEARsBR,G,iCA2CnD,SAASS,EAAoBC,GAE3B,IAAMC,EAAyBD,EAAIE,KAAI,SAAAC,GAEpC,IAAIC,EAAgBC,WAAWF,EAAYG,OAAOC,QAAQ,IAEtD,MAAQ,mJASQjC,OARuH6B,EAAYK,MAAM,2WAS5HlC,OADb6B,EAAYM,MAAM,+CAICnC,OAHN6B,EAAYO,YAAY,2HAGJpC,OAAd8B,EAAc,irB,IAgBrDO,KAAK,IAERjC,EAAekC,UAAYX,C,EAjEL,WAItB,IAAMY,EAAyB,CAAC,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,4BAE7N,QAA+BC,IAA3BD,EAAJ,C,IAQKE,GAAc,EAAdC,GAAc,EAAdC,OAAcH,E,IAAnB,QAAKI,EAAAC,EAAkBN,EAAsBO,OAAAC,cAAxCN,GAAAG,EAAAC,EAAcG,QAAAC,MAAdR,GAAc,EAA4B,CAA1C,IAAMM,EAANH,EAAcM,MAEjBxC,EAAYf,MAAQoD,EAEpBnC,G,WAJG8B,GAAc,EAAdC,EAAcQ,C,aAAdV,GAAc,MAAdI,EAAcO,QAAdP,EAAcO,Q,YAAdV,E,MAAAC,C,QANHpC,EAAM8C,UAAUC,OAAO,kB,CAc3BC,GAsGA/C,EAAYgD,iBAAiB,SA7BN,SAAAC,GAGrB,GAA8B,WAA1BA,EAAMC,OAAOC,SAAjB,CAIA,IAAMC,EAAcjD,EAAekD,QAAO,SAAAC,G,OAAQA,EAAKC,WAAaN,EAAMC,OAAOM,S,IAEjF5D,EAAekC,UAAY,GAE3Bb,EAAmBmC,GAEnBnD,EAAgB4C,UAAUC,OAAO,WAT/B,C,IA0BJ7C,EAAgB+C,iBAAiB,SAZX,SAAAC,GAES,WAA1BA,EAAMC,OAAOC,WAIhBlC,EAAmBd,GAEnBF,EAAgB4C,UAAUY,IAAI,Y,IAOEC,WAAWzC,EAAoB,IAAKd,GAC3CuD,YAxDP,SAAIC,GAErB,IAIKC,EAJaD,EAAeE,SAAQ,SAAAC,G,OAAWA,EAAQP,Q,IAE1BF,QAAO,SAACU,EAAQC,EAAOC,G,OAAUA,EAAMC,QAAQH,KAAYC,C,IAEhD5C,KAAI,SAAAmC,GAEhD,MAAO,4CAEkC/D,OAAT+D,EAAS,oB,IAGxC1B,KAAK,IAER7B,EAAY8B,UAAY8B,C,GAyC8B,IAAKzD,E","sources":["src/js/favorites.js"],"sourcesContent":["import axios from 'axios';\n\n// ========================================    localStorageServsce    =============================== \nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n\n// ========================================    APIServsce      ======================================  \n\n class UnsplashAPI {\n  static BASE_URL = 'https://tasty-treats-backend.p.goit.global/api';\n  \n  constructor() {\n    this.query = 0;\n  }\n  fetchPhotosByQuery() {\n     \n          return axios.get(`${UnsplashAPI.BASE_URL}/recipes/${this.query}`);\n    };\n}\n\n\n// ========================================   querySelectorelementov ================================\n\nconst productsListEl = document.querySelector(\".recipes-list\");\nconst divEl = document.querySelector(\".favorites-error\");\nconst divButtonEl = document.querySelector(\".js-div-button\");\nconst allCategoriesEl = document.querySelector(\".js-all-categories\");\n\nconst unsplashAPI = new UnsplashAPI();\nunsplashAPI.query = 0;\nlet productsTocart = [];\n\nconst onIntersectingElIntersectingViewport = async entries => {\n   \n try { \n\n   const { data } = await unsplashAPI.fetchPhotosByQuery();\n   \n   productsTocart.push(data);\n   \n  } catch (err) { console.log(err) };\n \n}\n\n\n//  ============================================ appeal to localStorage ===============================\n\nconst appendCartItems = () => {\n\n  // const productsidentificators = load('BI8886EB');\n\n  const productsidentificators = ['6462a8f74c3d0ddd28897fd9','6462a8f74c3d0ddd28897fe5','6462a8f74c3d0ddd28897fdd','6462a8f74c3d0ddd28897fca','6462a8f74c3d0ddd28897fc1','6462a8f74c3d0ddd28897fbc','6462a8f74c3d0ddd28897fb9','6462a8f74c3d0ddd28897fdf']\n\n  if (productsidentificators === undefined) {\n  \n    divEl.classList.remove('visually-hidden')\n\n      return;\n  }\n\n\n  for (const iterator of productsidentificators) {\n    \n    unsplashAPI.query = iterator\n\n    onIntersectingElIntersectingViewport();\n  }\n\n};\nappendCartItems();\n\n\n// =================================================  CreateGalleryCards =============================================\n\n\nfunction createGalleryCards (arr) {\n\n  const productsToCartTemplate = arr.map(productinfo => {\n\n     let roundedNumber = parseFloat(productinfo.rating.toFixed(1));\n\n         return  `\n          <li class=\"recipes-list-item\" style=\"background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 4.82%, rgba(5, 5, 5, 0.00) 108.72%), url(${productinfo.thumb}); background-size: cover;\n              background-position: center;\n              background-repeat: no-repeat\">\n  <button type=\"button\" class=\"recipes-list-item-like-btn\">\n      <svg class=\"recipes-list-item-like-btn-img\" width=\"22\" height=\"22\">\n          <use href=\"./images/icons.svg#heart\"></use>\n      </svg>\n  </button>\n  <h3 class=\"subtitle\">${productinfo.title}</h3>\n  <p class=\"recipes-list-item-text\">${productinfo.description}</p>\n  <div class=\"recipes-rating\">\n    <div class=\"recipes-rating-body\">\n        <div class=\"recipes-rating-value\">${roundedNumber}</div>\n        <div class=\"recipes-rating-active\"></div>\n        <div class=\"recipes-rating-items\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"1\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"2\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"3\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"4\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"5\" name=\"rating\">\n        </div>\n    </div>\n</div>\n      <button class=\"recipes-list-see-recipe-btn\" type=\"button\">See recipe</button>\n  </div>\n</li>\n            \n `\n  }).join('');\n  \n  productsListEl.innerHTML = productsToCartTemplate;\n\n}\n\n\n// ============================================  小ategory  ===========================================\n\n\nconst choice小ategory = (productsTocart) => {\n\n  const allCourses = productsTocart.flatMap(product => product.category);\n  \n  const productCategory = allCourses.filter((course, index, array) => array.indexOf(course) === index);\n  \n  const productCategoryButton = productCategory.map(category => {\n\n    return `\n   \n    <button class=\"favorites-btn\">${category}</button>\n\n    `\n  }).join('');\n\n  divButtonEl.innerHTML = productCategoryButton;\n\n};\n\n\n// ====================================  processing button clicks ====================================\n\nconst selectcategory = event => {\n  \n\n  if (event.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n\n  const arrCategory = productsTocart.filter(user => user.category === event.target.innerText);\n\n  productsListEl.innerHTML = '';\n\n  createGalleryCards(arrCategory);\n\n  allCategoriesEl.classList.remove('is-hiden');\n\n}\n\n\nconst allCategories = event => {\n\n if (event.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n\n  createGalleryCards(productsTocart);\n  \n  allCategoriesEl.classList.add('is-hiden');\n}\n\ndivButtonEl.addEventListener(\"click\", selectcategory);\nallCategoriesEl.addEventListener(\"click\", allCategories);\n\n\nconst timerIdcreateGalleryCards = setTimeout(createGalleryCards, 600, productsTocart);\nconst timerIdchoice小ategory = setTimeout(choice小ategory, 600, productsTocart);\n\n"],"names":["$bpxeT","parcelRequire","$6befdf793f7dd1b0$var$UnsplashAPI","UnsplashAPI","this","query","key","$dIxxU","default","get","concat","BASE_URL","$parcel$interopDefault","$hKHmD","$6befdf793f7dd1b0$var$productsListEl","document","querySelector","$6befdf793f7dd1b0$var$divEl","$6befdf793f7dd1b0$var$divButtonEl","$6befdf793f7dd1b0$var$allCategoriesEl","$6befdf793f7dd1b0$var$unsplashAPI","$6befdf793f7dd1b0$var$productsTocart","$6befdf793f7dd1b0$var$onIntersectingElIntersectingViewport","$2TvXO","mark","_callee","entries","data","fetchPhotosByQuery","_ctx","sent","push","console","log","t0","$6befdf793f7dd1b0$var$createGalleryCards","arr","productsToCartTemplate","map","productinfo","roundedNumber","parseFloat","rating","toFixed","thumb","title","description","join","innerHTML","productsidentificators","undefined","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","classList","remove","$6befdf793f7dd1b0$var$appendCartItems","addEventListener","event","target","nodeName","arrCategory","filter","user","category","innerText","add","setTimeout","productsTocart1","productCategoryButton","flatMap","product","course","index","array","indexOf"],"version":3,"file":"favorites.809cd8bf.js.map"}