{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAeC,MAAMC,EAOLC,qBAEQ,OAAOC,EAAAC,QAAMC,IAAI,GAAGJ,EAAYK,oBAAoBC,KAAKC,Q,CALjEC,cACEF,KAAKC,MAAQ,C,EAJfE,EAAAX,EAAA,CADKE,EACE,WAAW,kDAepB,MAAMU,EAAiBC,SAASC,cAAc,iBACxCC,EAAQF,SAASC,cAAc,oBAC/BE,EAAcH,SAASC,cAAc,kBACrCG,EAAkBJ,SAASC,cAAc,sBAIzCI,EAAc,IAAIhB,EACxBgB,EAAYT,MAAQ,EACpB,IAAIU,EAAiB,GAMrB,MAAMC,EAAuCC,MAAMC,IAElD,IAEE,MAAMC,KAAEA,SAAeL,EAAYf,qBAEnCgB,EAAeK,KAAKD,E,CAEnB,MAAOE,GAAOC,QAAQC,IAAIF,E,GAmC9B,SAASG,EAAoBC,GAE3B,MAAMC,EAAyBD,EAAIE,KAAIC,IAEpC,IAAIC,EAAgBC,WAAWF,EAAYG,OAAOC,QAAQ,IAEtD,MAAQ,0EACsDJ,EAAYK,4RAM1DL,EAAYM,mDACCN,EAAYO,qIAGNN,irBAe1C,IACGO,KAAK,IAER5B,EAAe6B,UAAYX,C,CA/DL,MAItB,MAAMY,EAAyB,CAAC,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,2BAA2B,4BAE7N,QAA+BC,IAA3BD,EAQJ,IAAK,MAAME,KAAYF,EAErBxB,EAAYT,MAAQmC,EAEpBxB,SAVAL,EAAM8B,UAAUC,OAAO,kB,EAc3BC,GAoGA/B,EAAYgC,iBAAiB,SA7BNC,IAGrB,GAA8B,WAA1BA,EAAMC,OAAOC,SACf,OAGF,MAAMC,EAAcjC,EAAekC,QAAOC,GAAQA,EAAKC,WAAaN,EAAMC,OAAOM,YAEjF5C,EAAe6B,UAAY,GAE3Bb,EAAmBwB,GAEnBnC,EAAgB4B,UAAUC,OAAO,WAAW,IAiB9C7B,EAAgB+B,iBAAiB,SAZXC,IAES,WAA1BA,EAAMC,OAAOC,WAIhBvB,EAAmBT,GAEnBF,EAAgB4B,UAAUY,IAAI,YAAW,IAOTC,WAAW9B,EAAoB,IAAKT,GAC3CuC,YAxDHC,IAErB,MAIKC,EAJaD,EAAeE,SAAQC,GAAWA,EAAQP,WAE1BF,QAAO,CAACU,EAAQC,EAAOC,IAAUA,EAAMC,QAAQH,KAAYC,IAEhDjC,KAAIwB,GAEzC,4CAEyBA,uBAG/Bf,KAAK,IAERxB,EAAYyB,UAAYmB,CAAqB,GAyCS,IAAKzC","sources":["src/js/favorites.js"],"sourcesContent":["import axios from 'axios';\n\n// ========================================    localStorageServsce    =============================== \nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n\n// ========================================    APIServsce      ======================================  \n\n class UnsplashAPI {\n  static BASE_URL = 'https://tasty-treats-backend.p.goit.global/api';\n  \n\n  constructor() {\n    this.query = 0;\n  }\n  fetchPhotosByQuery() {\n     \n          return axios.get(`${UnsplashAPI.BASE_URL}/recipes/${this.query}`);\n    };\n}\n\n\n// ========================================   querySelectorelementov ================================\n\nconst productsListEl = document.querySelector(\".recipes-list\");\nconst divEl = document.querySelector(\".favorites-error\");\nconst divButtonEl = document.querySelector(\".js-div-button\");\nconst allCategoriesEl = document.querySelector(\".js-all-categories\");\n\n\n\nconst unsplashAPI = new UnsplashAPI();\nunsplashAPI.query = 0;\nlet productsTocart = [];\n\n\n\n\n\nconst onIntersectingElIntersectingViewport = async entries => {\n   \n try { \n\n   const { data } = await unsplashAPI.fetchPhotosByQuery();\n   \n   productsTocart.push(data);\n   \n  } catch (err) { console.log(err) };\n \n}\n\n\n//  ============================================ appeal to localStorage ===============================\n\nconst appendCartItems = () => {\n\n  // const productsidentificators = load('BI8886EB');\n\n  const productsidentificators = ['6462a8f74c3d0ddd28897fd9','6462a8f74c3d0ddd28897fe5','6462a8f74c3d0ddd28897fdd','6462a8f74c3d0ddd28897fca','6462a8f74c3d0ddd28897fc1','6462a8f74c3d0ddd28897fbc','6462a8f74c3d0ddd28897fb9','6462a8f74c3d0ddd28897fdf']\n\n  if (productsidentificators === undefined) {\n  \n    divEl.classList.remove('visually-hidden')\n\n      return;\n  }\n\n\n  for (const iterator of productsidentificators) {\n    \n    unsplashAPI.query = iterator\n\n    onIntersectingElIntersectingViewport();\n  }\n\n};\nappendCartItems();\n\n\n// =================================================  CreateGalleryCards =============================================\n\n\nfunction createGalleryCards (arr) {\n\n  const productsToCartTemplate = arr.map(productinfo => {\n\n     let roundedNumber = parseFloat(productinfo.rating.toFixed(1));\n\n         return  `\n          <li class=\"recipes-list-item\" style=\"background-image: url(${productinfo.thumb}); background-repeat: no-repeat\">\n  <button type=\"button\" class=\"recipes-list-item-like-btn\">\n      <svg class=\"recipes-list-item-like-btn-img\" width=\"22\" height=\"22\">\n          <use href=\"./images/icons.svg#heart\"></use>\n      </svg>\n  </button>\n  <h3 class=\"subtitle\">${productinfo.title}</h3>\n  <p class=\"recipes-list-item-text\">${productinfo.description}</p>\n  <div class=\"recipes-rating\">\n    <div class=\"recipes-rating-body\">\n        <div class=\"recipes-rating-value\">${roundedNumber}</div>\n        <div class=\"recipes-rating-active\"></div>\n        <div class=\"recipes-rating-items\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"1\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"2\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"3\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"4\" name=\"rating\">\n            <input type=\"radio\" class=\"recipes-rating-item\" value=\"5\" name=\"rating\">\n        </div>\n    </div>\n</div>\n      <button class=\"recipes-list-see-recipe-btn\" type=\"button\">See recipe</button>\n  </div>\n</li>\n            \n `\n  }).join('');\n  \n  productsListEl.innerHTML = productsToCartTemplate;\n\n}\n\n\n// ============================================  小ategory  ===========================================\n\n\nconst choice小ategory = (productsTocart) => {\n\n  const allCourses = productsTocart.flatMap(product => product.category);\n  \n  const productCategory = allCourses.filter((course, index, array) => array.indexOf(course) === index);\n  \n  const productCategoryButton = productCategory.map(category => {\n\n    return `\n   \n    <button class=\"favorites-btn\">${category}</button>\n\n    `\n  }).join('');\n\n  divButtonEl.innerHTML = productCategoryButton;\n\n};\n\n\n// ====================================  processing button clicks ====================================\n\nconst selectcategory = event => {\n  \n\n  if (event.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n\n  const arrCategory = productsTocart.filter(user => user.category === event.target.innerText);\n\n  productsListEl.innerHTML = '';\n\n  createGalleryCards(arrCategory);\n\n  allCategoriesEl.classList.remove('is-hiden')\n\n}\n\n\nconst allCategories = event => {\n\n if (event.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n\n  createGalleryCards(productsTocart)\n  \n  allCategoriesEl.classList.add('is-hiden');\n}\n\ndivButtonEl.addEventListener(\"click\", selectcategory);\nallCategoriesEl.addEventListener(\"click\", allCategories);\n\n\nconst timerIdcreateGalleryCards = setTimeout(createGalleryCards, 600, productsTocart);\nconst timerIdchoice小ategory = setTimeout(choice小ategory, 600, productsTocart);\n\n"],"names":["$iJYdK","parcelRequire","$7f07f86ee49d81c7$var$UnsplashAPI","fetchPhotosByQuery","$2shzp","default","get","BASE_URL","this","query","constructor","$parcel$interopDefault","$7f07f86ee49d81c7$var$productsListEl","document","querySelector","$7f07f86ee49d81c7$var$divEl","$7f07f86ee49d81c7$var$divButtonEl","$7f07f86ee49d81c7$var$allCategoriesEl","$7f07f86ee49d81c7$var$unsplashAPI","$7f07f86ee49d81c7$var$productsTocart","$7f07f86ee49d81c7$var$onIntersectingElIntersectingViewport","async","entries","data","push","err","console","log","$7f07f86ee49d81c7$var$createGalleryCards","arr","productsToCartTemplate","map","productinfo","roundedNumber","parseFloat","rating","toFixed","thumb","title","description","join","innerHTML","productsidentificators","undefined","iterator","classList","remove","$7f07f86ee49d81c7$var$appendCartItems","addEventListener","event","target","nodeName","arrCategory","filter","user","category","innerText","add","setTimeout","productsTocart1","productCategoryButton","flatMap","product","course","index","array","indexOf"],"version":3,"file":"favorites.e3fd5361.js.map"}