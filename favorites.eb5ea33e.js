function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=r.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},r.parcelRequired7c6=s),s.register("kyEFX",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("kyEFX").register(JSON.parse('{"246rV":"favorites.eb5ea33e.js","lp5u4":"sprite.a5a4fc5d.svg","gjYyB":"index.4de87615.js"}'));var o,a=s("iJYdK"),c=s("2shzp");o=new URL(s("kyEFX").resolve("lp5u4"),import.meta.url).toString();class l{fetchPhotosByQuery(){return c.default.get(`${l.BASE_URL}/recipes/${this.query}`)}constructor(){this.query=0}}t(a)(l,"BASE_URL","https://tasty-treats-backend.p.goit.global/api");const d=document.querySelector(".recipes-list"),u=document.querySelector(".favorites-error"),g=document.querySelector(".js-div-button"),p=document.querySelector(".js-all-categories"),f=new l;f.query=0;let v=[];const h=async e=>{try{const{data:e}=await f.fetchPhotosByQuery();v.push(e)}catch(e){console.log(e)}};function y(e){const r=e.map((e=>{let r=parseFloat(e.rating.toFixed(1));const n=function(e){const t=localStorage.getItem("BI8886EB");return(t?JSON.parse(t):[]).includes(e)}(e._id);return`\n          <li class="recipes-list-item" style="background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 4.82%, rgba(5, 5, 5, 0.00) 108.72%), url(${e.thumb}); background-size: cover;\n              background-position: center;\n              background-repeat: no-repeat">\n              <button type="button" class="recipes-list-item-like-btn">\n               <svg class="recipes-list-item-like-btn-img" width="22" height="22">\n                 <use class="${n?"active-heart":"not-active-heart"}" href="${t(o)}#icon-heart" data-resept-id=${e._id}></use>\n               </svg>\n              </button>\n               <h3 class="subtitle">${e.title}</h3>\n               <p class="recipes-list-item-text">${e.description}</p>\n               <div class="recipes-rating">\n               <div class="recipes-rating-body">\n                <div class="recipes-rating-value">${r}</div>\n              <div class="recipes-rating-active"></div>\n              <div class="recipes-rating-items">\n          \n             </div>\n             </div>\n             </div>\n               <button class="recipes-list-see-recipe-btn" type="button" data-resept-id=${e._id}>See recipe</button>\n             </div>\n          </li>\n            \n `})).join("");d.innerHTML=r}(()=>{const e=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}})("BI8886EB");if(void 0===e)return u.classList.remove("visually-hidden"),void p.add("is-hiden");if(0!==e.length)for(const t of e)f.query=t,h();else u.classList.remove("visually-hidden")})();g.addEventListener("click",(e=>{if("BUTTON"!==e.target.nodeName)return;const t=v.filter((t=>t.category===e.target.innerText));d.innerHTML="",y(t),p.classList.remove("is-hiden")})),p.addEventListener("click",(e=>{"BUTTON"===e.target.nodeName&&(y(v),p.classList.add("is-hiden"))}));setTimeout(y,600,v),setTimeout((e=>{const t=e.flatMap((e=>e.category)).filter(((e,t,r)=>r.indexOf(e)===t)).map((e=>`\n   \n    <button class="favorites-btn">${e}</button>\n\n    `)).join("");g.innerHTML=t}),600,v);document.querySelector(".recipes-list").addEventListener("click",(e=>{if("use"!==e.target.nodeName)return;const t=localStorage.getItem("BI8886EB"),r=t?JSON.parse(t):[],n=e.target.dataset.reseptId,i=r.indexOf(n);-1===i?(e.target.classList.remove("not-active-heart"),e.target.classList.add("active-heart"),r.push(n)):(e.target.classList.remove("active-heart"),e.target.classList.add("not-active-heart"),r.splice(i,1)),((e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}})("BI8886EB",r)}));
//# sourceMappingURL=favorites.eb5ea33e.js.map
